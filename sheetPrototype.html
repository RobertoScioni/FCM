<!DOCTYPE html>
<!--
    this prototype will illustrate the structure of a single character sheet
    the objective is to integrate all the elements in a readable, well documented format
-->
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            *{
                box-sizing: border-box;
            }
            .character{
                border: solid;
                border-radius: 1ch;
                padding: 0ch;
                padding-top: 0.5ch;
                max-width:fit-content;
                align-items: center;
                border-color: magenta;
            }
            .characterName{
                background-color: blueviolet;
                margin:0px !important;
            }
            .front{ /*the front class stilizes the most informative face of the character sheet/card*/
                /*display: flexbox;
                flex-flow: wrap;*/
                background-color:grey;
            }
            .aspects{
                margin: 0ch;
            }
            .aspects>ul, .consequences>ul{
                background-color: aquamarine;
                margin:0;
                padding-left:2ch;
                padding-right: 2ch;
                list-style-type: none;
                border-style: solid;
                border-radius:2ch;
            }
            .aspects>li:hover{
                background-color: whitesmoke;
            }
            .skill{
                display: table;
            }
            .skillCell{
                background-color: hotpink;
                text-align: center;
                min-width:10ch;
                display:table-cell;
                border-style:groove;
                border-color: whitesmoke;
                font-size: small;
            }
            .scaleCell{
                min-width: 4ch;
            }

            .skillCell:hover{
                background-color: whitesmoke;
            }

            .stunts, .extra{
                float:left;
                width:49%;
                background-color: rgba(192, 192, 192, 0.747)
                
            }
            .stunts>ul, .extra>ul{
                padding:0;
                margin:0;
                list-style:none;
                /*border:solid;*/
                border-color:black;
            }
            .stunts>ul>li:hover, .extra>ul>li:hover{
                background-color: whitesmoke;
            }
            .caption{
                margin: 0;
            }
            .stressTrack{
                display:flex;
                flex-wrap: nowrap;
            }

            .stressTrack>.caption{
                min-width:8ch;
            }
            .stressBox{
                background-color:rgb(145, 145, 145);
                min-width: 3ch;
                /*height: 1ch;*/
                border:inset;
                display:block;
            }
            .stressBox:hover{
                background-color: whitesmoke;
            }
            .stress{
                width: 50%;
                float:left;
                clear:both;
            }

            .consequences{
                width: 50%;
                margin:0;
            }

        </style>
        <script>
            let skills=["Athletics","Burglary","Contacts","Crafts","Deceive","Drive","Empathy","Fight","Investigate","Lore","Notice","Physique","Provoke","Rapport","Resources","Shoot","Stealth","Will"]
            let scale=["+5","+4","+3","+2","+1"]
            const skillPiramid=()=>{
                const container=document.querySelector(".skills")
                let item
                let row
                for (let i = 0; i < 5; i++) {
                    row=document.createElement("div")
                    let z=i+i-1<0?0:i+i-1
                    //console.log("zeta",z)
                    item=document.createElement("div")
                    item.innerText=scale[i]
                    item.classList.add("scaleCell","skillCell")
                    row.appendChild(item)
                    for (let x = z; x<=z+i;x++) {
                        item=document.createElement("div")
                        item.innerText=skills[x]
                        item.classList.add("skillCell")
                        row.appendChild(item)
                    }
                    for (let y = i; y < 4; y++) {
                        item=document.createElement("div")
                        item.innerText="-"
                        item.classList.add("skillCell")
                        row.appendChild(item)
                    }
                    container.appendChild(row)
                }
            }
            window.onload=()=>{
                skillPiramid()
            }
        </script>
    </head>
    <body>
        <div class="character">
                <h2 class="characterName">Drusilla</h2>
                <div class="front">
                    <div name="aspects" class="aspects">
                        <h3 class="caption">Aspects</h3>
                        <ul>
                            <li>High Concept</li>
                            <li>Trouble</li>
                            <li>1</li>
                            <li>2</li>
                            <li>3</li>
                        </div>
                        </ul>
                        <div class="skills"><h3 class="caption">Skills</h3></div>
                        <div class="stunts">
                            <h3 class="caption">Stunts</h3>
                            <ul>
                                <li>one</li>
                                <li>two</li>
                                <li>tree</li>
                            </ul>
                        </div>
                        <div class="extra">
                            <h3 class="caption">Extra</h3>
                            <ul>
                                <li>one</li>
                                <li>two</li>
                                <li>tree</li>
                            </ul>
                        </div>
                    
                    <div class="stress">
                        <h3 class="caption">Stress</h3>
                        <div class="stressTrack">
                            <h3 class="caption">Physical</h3><div class="stressBox"></div><div class="stressBox"></div><div class="stressBox"></div><div class="stressBox"></div>
                        </div>
                        <div class="stressTrack">
                            <h3 class="caption">Mental</h3><div class="stressBox"></div><div class="stressBox"></div><div class="stressBox"></div><div class="stressBox"></div>
                        </div>
                    </div>
                    <div class="consequences">
                        <h3 class="caption">Consequences</h3>
                        <ul>
                            <li>mild</li>
                            <li>mild</li>
                            <li>moderate</li>
                            <li>severe</li>
                        </ul>
                    </div>
                </div>
        </div>
    </body>
</html>